index.html 
 
<!DOCTYPE html> 
 
<html> 
 
<head> 
 
<title>Login Page</title> 
 
</head> 
 
<body> 
 
<h2>Login</h2> 
 
<form method="post" action="login"> 
 
Username: <input type="text" name="username" required><br><br> 
Password: <input type="password" name="password" required><br><br> 
<input type="submit" value="Login"> 
 
</form> 
 
</body> 
 
</html> 
 
LoginServerlet.java 
loginServlet.java 
package com.example; 
 
import java.io.IOException; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.*; 
 
@WebServlet("/login") 
public class LoginServlet extends HttpServlet {
protected void doPost(HttpServletRequest req, HttpServletResponse res) throws IOException 
{ 
 
String u = req.getParameter("username"); 
String p = req.getParameter("password"); 
 
if ("admin".equals(u) && "admin".equals(p)) { 
 
HttpSession session = req.getSession(); 
session.setAttribute("username", u); 
 
Cookie c = new Cookie("username", u); 
c.setMaxAge(60 * 60); 
res.addCookie(c); 
 
res.sendRedirect("addressbook"); 
} else { 
res.setContentType("text/html"); 
res.getWriter().println("Invalid login <a href='index.html'>Try again</a>"); 
} 
} 
protected void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException { 
res.sendRedirect("index.html"); 
} 
} 
 
 
AddressBookServlet.java 
package com.example; 
 
import java.io.IOException; 
import java.util.ArrayList; 
import java.util.List; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.*; 
 
@WebServlet("/addressbook") 
public class AddressBookServlet extends HttpServlet { 
private List<Contact> contacts = new ArrayList<>(); 
 
protected void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException { 
 
// SESSION CHECK 
HttpSession session = req.getSession(false); 
if (session == null || session.getAttribute("username") == null) { 
res.sendRedirect("index.html"); 
return; 
} 
 
String user = (String) session.getAttribute("username"); 
res.setContentType("text/html"); 
 
res.getWriter().println("<html><head><title>Address Book</title></head><body>"); 
res.getWriter().println("<h2>Address Book</h2>"); 
res.getWriter().println("<p>Logged in as: " + user + "</p><hr>"); 
 
res.getWriter().println("<form method='post'>"); 
res.getWriter().println("Name: <input name='name' required><br>"); 
res.getWriter().println("Email: <input name='email' required><br><br>"); 
res.getWriter().println("<input type='submit' value='Add Contact'>"); 
res.getWriter().println("</form><hr>"); 
 
for (Contact c : contacts) { 
res.getWriter().println(c.name + " - " + c.email + "<br>"); 
} 
 
res.getWriter().println("</body></html>"); 
} 
 
protected void doPost(HttpServletRequest req, HttpServletResponse res) throws IOException 
{ 
contacts.add(new Contact( 
req.getParameter("name"), 
req.getParameter("email") 
)); 
res.sendRedirect("addressbook"); 
} 
 
static class Contact { 
String name, email;
Contact(String n, String e) { name = n; email = e; } 
} 
} 
web.xml 
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee 
http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd" 
version="4.0"> 
 
<welcome-file-list> 
<welcome-file>index.html</welcome-file> 
</welcome-file-list> 
</web-app>
